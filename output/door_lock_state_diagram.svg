<?xml version="1.0" encoding="utf-8" ?>
<svg baseProfile="full" height="600px" version="1.1" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"><![CDATA[
            .state {
                fill: #FFFFFF;
                stroke: #000000;
                stroke-width: 1px;
            }
            .composite-state {
                fill: #FAFAFA;
                stroke: #000000;
                stroke-width: 1px;
            }
            .state-name {
                font-family: Arial, sans-serif;
                font-size: 14px;
                text-anchor: middle;
            }
            .state-divider {
                stroke: #000000;
                stroke-width: 1px;
            }
            .activity-label {
                font-family: Arial, sans-serif;
                font-size: 12px;
                text-anchor: start;
            }
            .transition {
                stroke: #000000;
                stroke-width: 1px;
                fill: none;
            }
            .transition-arrow {
                fill: #000000;
            }
            .transition-label {
                font-family: Arial, sans-serif;
                font-size: 12px;
                text-anchor: middle;
                fill: #000000;
            }
            .initial-state {
                fill: #000000;
            }
            .final-state-outer {
                fill: none;
                stroke: #000000;
                stroke-width: 1px;
            }
            .final-state-inner {
                fill: #000000;
            }
            .choice-pseudostate {
                fill: #FFFFFF;
                stroke: #000000;
                stroke-width: 1px;
            }
            .junction-pseudostate {
                fill: #000000;
                stroke: none;
            }
            .history-pseudostate {
                fill: #FFFFFF;
                stroke: #000000;
                stroke-width: 1px;
            }
            .terminate-pseudostate {
                stroke: #000000;
                stroke-width: 2px;
            }
            .entry-exit-point {
                fill: #FFFFFF;
                stroke: #000000;
                stroke-width: 1px;
            }
            .region {
                fill: #FAFAFA;
                stroke: #999999;
                stroke-width: 1px;
                stroke-dasharray: 4 2;
            }
            .region-name {
                font-family: Arial, sans-serif;
                font-size: 12px;
                font-style: italic;
                text-anchor: start;
            }
        ]]></style><marker id="arrowhead" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5"><path class="transition-arrow" d="M0,0 L0,10 L10,5 z" /></marker></defs><g id="main"><g id="state-7b1ffa67-6ecd-4937-a64c-e209133c20cc"><circle class="initial-state" cx="50" cy="50" r="10" /></g><g id="state-5ecd6648-cdd2-4fa0-a6b3-cd9c6adb28a5"><rect class="state" height="80" rx="10" ry="10" width="120" x="120" y="50" /><text class="state-name" x="180.0" y="70">Locked</text><line class="state-divider" x1="130" x2="230" y1="80" y2="80" /><text class="activity-label" x="135" y="90">entry / turn_on_red_led()</text><text class="activity-label" x="135" y="105">do / display_locked_status()</text></g><g id="state-74f68123-d681-432f-bcee-a9043bb3545e"><rect class="state" height="80" rx="10" ry="10" width="120" x="290" y="50" /><text class="state-name" x="350.0" y="70">Unlocked</text><line class="state-divider" x1="300" x2="400" y1="80" y2="80" /><text class="activity-label" x="305" y="90">entry / turn_on_green_led()</text><text class="activity-label" x="305" y="105">exit / beep()</text></g><g id="state-7dde560b-be64-4dff-8d12-4cdffdc0f49a"><rect class="state" height="80" rx="10" ry="10" width="120" x="460" y="50" /><text class="state-name" x="520.0" y="70">Authenticating</text><line class="state-divider" x1="470" x2="570" y1="80" y2="80" /><text class="activity-label" x="475" y="90">entry / start_timer()</text><text class="activity-label" x="475" y="105">exit / stop_timer()</text></g><g id="state-db736555-0bf7-48dc-bab8-85949be9ec69"><rect class="state" height="80" rx="10" ry="10" width="120" x="630" y="50" /><text class="state-name" x="690.0" y="70">Error</text><line class="state-divider" x1="640" x2="740" y1="80" y2="80" /><text class="activity-label" x="645" y="90">entry / flash_red_led()</text><text class="activity-label" x="645" y="105">do / display_error_message()</text></g><g id="state-70b81370-8d82-41f6-b933-ff146967e0eb"><rect class="state" height="80" rx="10" ry="10" width="120" x="50" y="180" /><text class="state-name" x="110.0" y="200">Maintenance</text><line class="state-divider" x1="60" x2="160" y1="210" y2="210" /><text class="activity-label" x="65" y="220">reset / clear_error_log()</text></g><g id="state-eff2162f-017e-4c6f-82d8-33d5778fc3a8"><rect class="composite-state" height="250" rx="10" ry="10" width="340" x="220" y="180" /><text class="state-name" x="390.0" y="200">Alarm Active</text><line class="state-divider" x1="230" x2="550" y1="210" y2="210" /><text class="activity-label" x="235" y="220">entry / start_alarm()</text><text class="activity-label" x="235" y="240">exit / stop_alarm()</text><g id="state-c34e7d75-393f-4dc9-b757-67f2e1a55249"><rect class="state" height="80" rx="10" ry="10" width="120" x="240" y="270" /><text class="state-name" x="300.0" y="290">Silent Alarm</text><line class="state-divider" x1="250" x2="350" y1="300" y2="300" /><text class="activity-label" x="255" y="310">do / notify_security()</text></g><g id="state-056078d0-13c7-49bb-8961-d9b4f394d7b6"><rect class="state" height="80" rx="10" ry="10" width="120" x="410" y="270" /><text class="state-name" x="470.0" y="290">Audible Alarm</text><line class="state-divider" x1="420" x2="520" y1="300" y2="300" /><text class="activity-label" x="425" y="310">do / sound_siren()</text></g></g><g id="state-c34e7d75-393f-4dc9-b757-67f2e1a55249"><rect class="state" height="80" rx="10" ry="10" width="120" x="240" y="270" /><text class="state-name" x="300.0" y="290">Silent Alarm</text><line class="state-divider" x1="250" x2="350" y1="300" y2="300" /><text class="activity-label" x="255" y="310">do / notify_security()</text></g><g id="state-056078d0-13c7-49bb-8961-d9b4f394d7b6"><rect class="state" height="80" rx="10" ry="10" width="120" x="410" y="270" /><text class="state-name" x="470.0" y="290">Audible Alarm</text><line class="state-divider" x1="420" x2="520" y1="300" y2="300" /><text class="activity-label" x="425" y="310">do / sound_siren()</text></g><g id="state-cca43882-1be4-4e72-91d6-795e9df375f0"><polygon class="choice-pseudostate" points="220,300.0 230.0,310 220,320.0 210.0,310" /></g><g id="state-9f95452d-6122-4b66-9d85-0addc99f8228"><circle class="final-state-outer" cx="290" cy="310" r="16" /><circle class="final-state-inner" cx="290" cy="310" r="10" /></g><g id="transition-7b1ffa67-6ecd-4937-a64c-e209133c20cc-5ecd6648-cdd2-4fa0-a6b3-cd9c6adb28a5"><line class="transition" marker-end="url(#arrowhead)" x1="60.0" x2="60.0" y1="50.0" y2="50.00000000000001" /><rect fill="white" height="16" stroke="none" width="132" x="47.0" y="38.0" /><text class="transition-label" x="50.0" y="50.0">/ initialize_system()</text></g><g id="transition-5ecd6648-cdd2-4fa0-a6b3-cd9c6adb28a5-7dde560b-be64-4dff-8d12-4cdffdc0f49a"><line class="transition" marker-end="url(#arrowhead)" x1="180.0" x2="400.0" y1="50.0" y2="50.00000000000001" /><rect fill="white" height="16" stroke="none" width="186" x="287.0" y="48.0" /><text class="transition-label" x="290.0" y="60.0">card_swiped / read_card_data()</text></g><g id="transition-7dde560b-be64-4dff-8d12-4cdffdc0f49a-cca43882-1be4-4e72-91d6-795e9df375f0"><line class="transition" marker-end="url(#arrowhead)" x1="423.0769230769231" x2="229.23076923076923" y1="90.0" y2="300.0" /><rect fill="white" height="16" stroke="none" width="150" x="315.8058117075713" y="176.21719897266934" /><text class="transition-label" x="318.8058117075713" y="188.21719897266934">authentication_completed</text></g><g id="transition-cca43882-1be4-4e72-91d6-795e9df375f0-74f68123-d681-432f-bcee-a9043bb3545e"><line class="transition" marker-end="url(#arrowhead)" x1="222.69230769230768" x2="279.2307692307692" y1="300.0" y2="90.0" /><rect fill="white" height="16" stroke="none" width="186" x="257.61769604674515" y="185.59973473447872" /><text class="transition-label" x="260.61769604674515" y="197.59973473447872">[is_authorized] / log_access()</text></g><g id="transition-cca43882-1be4-4e72-91d6-795e9df375f0-db736555-0bf7-48dc-bab8-85949be9ec69"><line class="transition" marker-end="url(#arrowhead)" x1="230.0" x2="570.0" y1="303.6585365853659" y2="88.04878048780489" /><rect fill="white" height="16" stroke="none" width="240" x="402.3554202535833" y="192.29874432108215" /><text class="transition-label" x="405.3554202535833" y="204.29874432108215">[!is_authorized] / log_failed_attempt()</text></g><g id="transition-74f68123-d681-432f-bcee-a9043bb3545e-5ecd6648-cdd2-4fa0-a6b3-cd9c6adb28a5"><line class="transition" marker-end="url(#arrowhead)" x1="230.0" x2="180.0" y1="50.00000000000001" y2="50.0" /><rect fill="white" height="16" stroke="none" width="144" x="202.0" y="28.0" /><text class="transition-label" x="205.0" y="40.0">timeout / secure_door()</text></g><g id="transition-74f68123-d681-432f-bcee-a9043bb3545e-5ecd6648-cdd2-4fa0-a6b3-cd9c6adb28a5"><line class="transition" marker-end="url(#arrowhead)" x1="230.0" x2="180.0" y1="50.00000000000001" y2="50.0" /><rect fill="white" height="16" stroke="none" width="222" x="202.0" y="28.0" /><text class="transition-label" x="205.0" y="40.0">close_button_pressed / secure_door()</text></g><g id="transition-db736555-0bf7-48dc-bab8-85949be9ec69-5ecd6648-cdd2-4fa0-a6b3-cd9c6adb28a5"><line class="transition" marker-end="url(#arrowhead)" x1="570.0" x2="180.0" y1="50.00000000000001" y2="50.0" /><rect fill="white" height="16" stroke="none" width="228" x="372.0" y="28.0" /><text class="transition-label" x="375.0" y="40.0">reset_button_pressed / clear_errors()</text></g><g id="transition-db736555-0bf7-48dc-bab8-85949be9ec69-eff2162f-017e-4c6f-82d8-33d5778fc3a8"><line class="transition" marker-end="url(#arrowhead)" x1="570.0" x2="390.0" y1="69.02439024390243" y2="126.09756097560975" /><rect fill="white" height="16" stroke="none" width="336" x="473.9775613926607" y="76.02866923276292" /><text class="transition-label" x="476.9775613926607" y="88.02866923276292">multiple_failures [failure_count &gt; 3] / trigger_alarm()</text></g><g id="transition-eff2162f-017e-4c6f-82d8-33d5778fc3a8-70b81370-8d82-41f6-b933-ff146967e0eb"><line class="transition" marker-end="url(#arrowhead)" x1="50.0" x2="110.0" y1="180.00000000000003" y2="180.0" /><rect fill="white" height="16" stroke="none" width="288" x="77.0" y="178.0" /><text class="transition-label" x="80.0" y="190.0">key_switch_activated / enter_maintenance_mode()</text></g><g id="transition-70b81370-8d82-41f6-b933-ff146967e0eb-9f95452d-6122-4b66-9d85-0addc99f8228"><line class="transition" marker-end="url(#arrowhead)" x1="110.0" x2="275.93132853541164" y1="212.5" y2="302.379469623348" /><rect fill="white" height="16" stroke="none" width="186" x="185.2028327822983" y="254.2326544770417" /><text class="transition-label" x="188.2028327822983" y="266.2326544770417">shutdown_command / power_off()</text></g><g id="transition-c34e7d75-393f-4dc9-b757-67f2e1a55249-056078d0-13c7-49bb-8961-d9b4f394d7b6"><line class="transition" marker-end="url(#arrowhead)" x1="300.0" x2="350.0" y1="270.0" y2="270.0" /><rect fill="white" height="16" stroke="none" width="294" x="322.0" y="268.0" /><text class="transition-label" x="325.0" y="280.0">timeout [alarm_duration &gt; 60] / escalate_alarm()</text></g></g></svg>